# Skill-Developer 使用指南

**如何编写最佳 Prompt 来生成最完善、最完整的技能**

---

## ⚠️ 重要说明：技能语言要求

**使用 skill-developer 生成技能时，生成的 SKILL.md 文件必须使用中文（中文）。**

所有技能内容包括：
- 标题和章节名称 → **中文**
- 描述和说明 → **中文**
- 示例和代码注释 → **中文**
- 最佳实践和指南 → **中文**
- 错误消息和提示 → **中文**

**技术术语可以保留英文：**
- 框架名称（Express、React、Vue）
- 库名称（Prisma、Zod、Sentry）
- 技术专有名词（BaseController、TypeScript）
- 代码中的变量名

**为什么使用中文？**
- 主要受众是中文开发者
- 更容易理解和维护
- 符合项目文档标准

---

## 📋 目录

- [快速开始](#快速开始)
- [激活 skill-developer](#激活-skill-developer)
- [场景 1：从零创建新技能（无标准）](#场景-1从零创建新技能无标准)
- [场景 2：基于现有流程/要求创建技能](#场景-2基于现有流程要求创建技能)
- [场景 3：改进现有技能](#场景-3改进现有技能)
- [场景 4：为特定技术栈创建技能](#场景-4为特定技术栈创建技能)
- [完整信息清单](#完整信息清单)
- [Prompt 模板库](#prompt-模板库)
- [最佳实践](#最佳实践)
- [常见错误和解决方案](#常见错误和解决方案)

---

## 快速开始

### skill-developer 是什么？

**skill-developer** 是一个**元技能**（meta-skill），用于创建和管理其他 Claude Code 技能。它会：

1. 指导你创建符合 Anthropic 最佳实践的技能
2. 自动生成技能结构和配置
3. 确保技能遵循 500 行规则和渐进式披露模式
4. 创建完整的触发规则配置

---

## 激活 skill-developer

### 方法 1：自动激活（推荐）

**当你提到以下关键词时，skill-developer 会自动激活：**
- "创建技能"、"创建 skill"、"添加技能"
- "修改 skill-rules.json"
- "理解技能激活"
- "调试技能问题"
- "技能触发规则"

**示例：**
```
你：我想创建一个新的技能来帮助前端开发
```
→ skill-developer 自动激活 ✅

### 方法 2：明确调用

**直接说明要创建技能：**
```
你：使用 skill-developer 帮我创建一个数据库验证技能
```

### 方法 3：通过技能工具

在对话中，如果 Claude 提供了 Skill 工具选项，选择 `skill-developer`。

---

## 场景 1：从零创建新技能（无标准）

### 适用情况

- 你有一个新领域需要技能支持
- 项目中没有相关标准或流程
- 需要从头定义技能内容和触发规则

### 需要提供的信息

虽然"没有标准"，但你仍需要提供以下信息：

#### ✅ 必需信息

1. **技能名称和目的**
   - 技能叫什么名字？
   - 这个技能要解决什么问题？

2. **技术栈/领域**
   - 涉及什么技术？（React、Node.js、Prisma、Docker 等）
   - 属于哪个领域？（前端、后端、数据库、部署等）

3. **预期触发场景**
   - 什么情况下你希望技能激活？
   - 用户会说什么关键词？
   - 编辑哪些文件时需要激活？

4. **技能类型**
   - Guardrail（强制规范）还是 Domain（指导建议）？

#### 📝 推荐提供的额外信息

5. **项目结构**
   - 你的项目是 monorepo 还是单服务？
   - 相关代码在哪个目录？

6. **常见错误或问题**
   - 这个领域最容易犯什么错误？
   - 需要防止哪些问题？

7. **最佳实践**
   - 即使没有正式标准，你有什么偏好吗？
   - 团队成员常用哪些模式？

### Prompt 模板

#### 模板 1：最简版本（skill-developer 会引导你）

```
我想创建一个技能，名称是 [技能名称]，目的是 [简要说明目的]。

技术栈是 [技术1, 技术2]，涉及 [领域]。

我希望在 [场景1] 或 [场景2] 时自动激活。

**重要：请确保生成的 SKILL.md 文件使用中文编写，包括所有标题、描述、示例和说明。**

请使用 skill-developer 帮我创建这个技能。
```

#### 模板 2：详细版本（推荐）

```
我想使用 skill-developer 创建一个新技能。

**⚠️ 重要要求：生成的 SKILL.md 文件必须全部使用中文编写：**
- 所有标题和章节名称使用中文（如：目的、何时使用、关键信息）
- 所有描述和说明使用中文
- 代码注释使用中文
- 错误消息和提示使用中文
- 技术术语（如 Express、React、Prisma）可以保留英文

技能信息：
- 名称：[技能名称]（使用小写和连字符，如：vue-dev-guidelines）
- 类型：[guardrail 或 domain]
- 目的：[详细说明这个技能要解决什么问题]

技术栈和领域：
- 技术：[列出相关技术]
- 领域：[前端/后端/数据库/部署/其他]
- 项目结构：[monorepo 或单服务，相关代码路径]

触发场景：
- 关键词：[用户可能提到的词汇，可以包含中文关键词]
- 文件模式：[哪些文件需要激活技能]
- 内容模式：[文件中包含什么内容时需要激活]

常见问题：
- [问题1：例如容易用错的 API]
- [问题2：例如性能问题]

期望行为：
- [你希望技能做什么]
- [你希望技能提供什么指导]

请帮我创建完整的技能结构，包括 SKILL.md（中文）、skill-rules.json 配置（支持中英文关键词），并遵循 500 行规则。
```

### 实际示例

#### 示例 1：创建 Vue 开发指南技能

```
我想使用 skill-developer 创建一个新的技能。

**⚠️ 重要：生成的 SKILL.md 必须全部使用中文，包括所有标题、描述、示例和说明。**

技能信息：
- 名称：vue-dev-guidelines
- 类型：domain
- 目的：为 Vue 3 项目提供开发指导和最佳实践，确保代码符合项目规范

技术栈和领域：
- 技术：Vue 3, TypeScript, Composition API, Pinia, Vue Router
- 领域：前端开发
- 项目结构：单服务，代码在 src/ 目录，组件在 src/components/

触发场景：
- 关键词：Vue, component, 组件, vue component, composition api, pinia
- 文件模式：src/**/*.vue, src/**/*.ts
- 内容模式：import.*vue, defineComponent, export default.*Vue

常见问题：
- 使用 Options API 而不是 Composition API
- 忘记使用 TypeScript 类型
- 组件命名不规范

期望行为：
- 当编辑 .vue 文件时自动建议
- 提供 Vue 3 Composition API 示例（代码注释用中文）
- 指导 TypeScript 类型使用
- 提供 Pinia store 使用模式

请创建完整的技能，包括主文件（中文）和资源文件，遵循 500 行规则。
所有标题使用中文，如："目的"、"何时使用"、"关键信息"。
```

---

## 场景 2：基于现有流程/要求创建技能

### 适用情况

- 项目已有开发流程文档
- 团队有编码规范文档
- 已有最佳实践总结
- 需要将文档转化为可执行的技能

### 需要提供的信息

#### ✅ 必需信息

1. **现有文档/流程**
   - 提供文档内容或链接
   - 说明关键规范和原则

2. **技能转化目标**
   - 你想将哪些部分自动化？
   - 哪些应该强制（guardrail），哪些是建议（domain）？

3. **触发条件**
   - 现有流程在什么场景下应用？
   - 对应的代码文件位置

4. **⚠️ 语言要求**
   - 明确要求生成的 SKILL.md 使用中文编写

#### 📝 推荐提供的额外信息

4. **优先级排序**
   - 哪些规则最重要？
   - 哪些可以建议但不强制？

5. **特殊情况**
   - 有哪些例外情况？
   - 什么时候可以不遵守规范？

### Prompt 模板

#### 模板 1：基于文档创建

```
我想将现有的 [文档名称/流程名称] 转化为 Claude Code 技能。

**⚠️ 重要：生成的 SKILL.md 必须全部使用中文编写。**

文档内容：
[粘贴文档内容或提供文档路径]

技能目标：
- 名称：[技能名称]
- 类型：[guardrail 或 domain]
- 主要规则：[列出最重要的规则]

需要强制执行的规则：
1. [规则1] - 应该在 guardrail 中阻止
2. [规则2] - 应该在 guardrail 中阻止

建议性的规则：
1. [规则1] - 作为 domain 技能建议
2. [规则2] - 作为 domain 技能建议

适用场景：
- 文件：[文件模式]
- 内容：[内容模式]
- 关键词：[关键词列表，可以包含中文关键词]

请使用 skill-developer 帮我创建这个技能，确保：
1. 所有规则都正确集成
2. SKILL.md 文件全部使用中文编写（标题、描述、示例、说明）
3. skill-rules.json 支持中英文关键词
```

#### 模板 2：基于团队规范创建

```
我们的团队有编码规范，我想创建一个技能来强制执行这些规范。

**⚠️ 重要：生成的 SKILL.md 必须全部使用中文编写。**

规范摘要：
[粘贴或描述规范]

最关键的规范（必须阻止违反）：
1. [规范1]
2. [规范2]

推荐的规范（建议但不强制）：
1. [规范1]
2. [规范2]

适用文件：
- [文件模式1]
- [文件模式2]

团队常犯的错误：
- [错误1]
- [错误2]

请使用 skill-developer 创建两个技能：
1. [名称]-guardrail（强制规范）- SKILL.md 使用中文
2. [名称]-guidelines（建议规范）- SKILL.md 使用中文

确保所有标题、描述、示例、错误消息都使用中文。
```

### 实际示例

#### 示例 1：将 API 文档转化为技能

```
我想将我们项目的 API 开发文档转化为技能。

**⚠️ 重要：生成的 SKILL.md 必须全部使用中文编写。**

文档内容：
"我们使用 Express + TypeScript + Prisma。所有路由必须：
1. 使用 BaseController 基类
2. 使用 Zod 进行输入验证
3. 所有错误必须通过 Sentry 记录
4. 使用统一的错误响应格式
5. 每个端点必须有 JSDoc 注释"

技能目标：
- 名称：api-development-standards
- 类型：guardrail（部分规则需要强制）

需要强制执行的规则：
1. 必须使用 BaseController
2. 必须使用 Zod 验证
3. 必须集成 Sentry 错误处理

建议性规则：
1. 包含 JSDoc 注释
2. 使用统一错误格式

适用场景：
- 文件：src/routes/**/*.ts, src/controllers/**/*.ts
- 内容：export.*Controller, app.(get|post|put|delete|patch)
- 关键词：route, endpoint, API, controller, 路由, 接口, 控制器

请创建完整的技能结构，确保：
1. SKILL.md 全部使用中文编写（标题、描述、示例、说明）
2. 所有标题使用中文（如：目的、何时使用、关键信息）
3. 代码注释使用中文
4. 错误消息使用中文
```

---

## 场景 3：改进现有技能

### 适用情况

- 已有技能但不完善
- 技能触发不准确（太多误触发或漏触发）
- 技能内容需要更新或扩展

### 需要提供的信息

1. **现有技能信息**
   - 技能名称
   - 当前问题是什么？

2. **改进目标**
   - 希望改进哪些方面？
   - 期望的新行为

3. **具体问题**
   - 触发太频繁？→ 需要更精确的模式
   - 触发太少？→ 需要更宽泛的模式
   - 内容不完整？→ 需要补充信息

### Prompt 模板

```
我想改进现有的技能 [技能名称]。

当前问题：
- [问题1]
- [问题2]

期望改进：
- [改进1]
- [改进2]

具体情况：
[描述具体场景和期望行为]

请使用 skill-developer 帮助我分析和改进这个技能。
```

### 实际示例

```
我想改进技能 frontend-dev-guidelines。

当前问题：
- 技能在某些前端文件上不触发
- 技能内容缺少 MUI v7 的新 API 说明

期望改进：
- 更准确地识别所有前端文件
- 添加 MUI v7 Grid 组件的正确用法
- 添加 TanStack Query 的最佳实践

具体情况：
我们使用 React 19 + MUI v7 + TanStack Query v5。
组件文件在 src/components/ 和 src/pages/。
但是技能只在 src/components/ 触发，src/pages/ 不触发。

请帮助我改进 skill-rules.json 的文件路径模式，并更新技能内容。
```

---

## 场景 4：为特定技术栈创建技能

### 适用情况

- 使用特定框架/库（Vue、Angular、Django、FastAPI 等）
- 需要框架特定的最佳实践
- 参考库中的技能（如 React）需要适配其他技术栈

### 需要提供的信息

1. **技术栈详情**
   - 框架版本
   - 关键库和工具
   - 项目配置

2. **参考技能（如果有）**
   - 想基于哪个现有技能？
   - 需要哪些修改？

3. **技术栈特定问题**
   - 框架常见的坑
   - 版本升级需要注意的点

4. **⚠️ 语言要求**
   - 生成的 SKILL.md 必须使用中文编写

### Prompt 模板

```
我想创建一个针对 [技术栈] 的开发技能。

**⚠️ 重要：生成的 SKILL.md 必须全部使用中文编写，包括所有标题、描述、示例和说明。**

技术栈详情：
- 框架：[框架名称] [版本]
- 关键库：[库1, 库2, 库3]
- 项目结构：[项目结构说明]

参考：
- [可选] 基于现有技能 [技能名称]，但需要适配 [技术栈]
- [可选] 完全新建

技术栈特定要求：
- [要求1]
- [要求2]

常见问题：
- [问题1]
- [问题2]

请创建完整的技能，确保：
1. SKILL.md 全部使用中文编写
2. 所有标题使用中文（如：目的、何时使用、关键信息）
3. 代码注释使用中文
4. 技术术语（框架名、库名）可以保留英文
```

### 实际示例

```
我想为 Vue 3 + TypeScript + Vuetify 创建开发技能。

**⚠️ 重要：生成的 SKILL.md 必须全部使用中文编写，包括所有标题、描述、示例和说明。**

技术栈详情：
- 框架：Vue 3 (Composition API)
- 关键库：TypeScript, Vuetify 3, Pinia, Vue Router 4
- 项目结构：单服务，src/components/, src/views/, src/stores/

参考：
- 可以基于 frontend-dev-guidelines，但需要完全适配 Vue 语法

技术栈特定要求：
- 必须使用 Composition API，禁用 Options API
- 使用 `<script setup lang="ts">` 语法
- Pinia store 使用 setup stores
- Vuetify 组件使用 v3 API

常见问题：
- 混用 Options API 和 Composition API
- 忘记在 `<script setup>` 中声明 props 类型
- 使用旧的 Vuetify v2 语法

请创建 vue-dev-guidelines 技能，包括：
1. 完整的触发规则和配置（支持中英文关键词）
2. SKILL.md 文件全部使用中文编写：
   - 标题：目的、何时使用、关键信息
   - 描述：使用中文说明
   - 示例：代码注释使用中文
   - 错误消息：使用中文
3. 技术术语（Vue、Pinia、Vuetify）可以保留英文
```

---

## 完整信息清单

### 创建新技能时需要的信息

#### 基本信息（必需）

- [ ] 技能名称（小写，连字符分隔）
- [ ] 技能类型（guardrail 或 domain）
- [ ] 技能目的（一句话说明）
- [ ] 技术栈/领域

#### 触发配置

- [ ] 关键词列表（用户会说什么）
- [ ] 意图模式（用户想做什么）
- [ ] 文件路径模式（哪些文件）
- [ ] 内容模式（文件中包含什么）

#### 技能内容

- [ ] ⚠️ **语言要求：所有内容必须使用中文编写**
- [ ] 主要指导内容（中文）
- [ ] 代码示例（注释使用中文）
- [ ] 最佳实践（中文描述）
- [ ] 常见错误（中文说明）

#### 高级配置（可选）

- [ ] 优先级
- [ ] 跳过条件
- [ ] 错误消息（guardrail）

---

## Prompt 模板库

### 模板 A：最简快速版

```
创建一个技能 [名称]，用于 [目的]。

**⚠️ 重要：生成的 SKILL.md 必须全部使用中文编写。**

技术栈：[技术列表]
触发时机：[简要说明]
类型：[guardrail 或 domain]
```

### 模板 B：标准完整版

```
使用 skill-developer 创建技能：

**⚠️ 重要：生成的 SKILL.md 必须全部使用中文编写。**

名称：[名称]
类型：[guardrail/domain]
目的：[详细目的]

技术栈：
- [技术1]
- [技术2]

触发：
- 关键词：[列表，可以包含中文关键词]
- 文件：[文件模式]
- 内容：[内容模式]

内容要点：
- [要点1]
- [要点2]

确保：
- 所有标题使用中文（如：目的、何时使用、关键信息）
- 所有描述使用中文
- 代码注释使用中文
- 技术术语（框架名、库名）可以保留英文
```

### 模板 C：基于文档版

```
将以下文档转化为技能：

**⚠️ 重要：生成的 SKILL.md 必须全部使用中文编写。**

[粘贴文档]

技能名称：[名称]
类型：[类型]

强制规则：
[列表]

建议规则：
[列表]

请确保生成的技能文件使用中文，包括标题、描述、示例。
```

### 模板 D：改进现有技能版

```
改进技能 [名称]：

**⚠️ 重要：如果需要重新生成 SKILL.md，必须全部使用中文编写。**

问题：[描述]
期望：[描述]
具体情况：[详细说明]

如果涉及重新生成技能内容，请确保使用中文。
```

---

## 最佳实践

### ✅ DO（推荐做法）

1. **明确要求使用中文**
   ```
   好：请确保生成的 SKILL.md 文件全部使用中文编写，包括所有标题、描述、示例和说明
   
   不好：创建一个技能
   ```

2. **提供足够的上下文**
   ```
   好：我想创建一个 React + MUI v7 + TypeScript 的前端开发技能，项目在 src/components/
   
   不好：我想创建一个前端技能
   ```

3. **明确技能类型**
   ```
   好：这是一个 guardrail 技能，需要阻止使用旧的 MUI API
   
   不好：这是一个技能，关于前端
   ```

4. **提供具体场景**
   ```
   好：编辑 src/components/**/*.tsx 文件时应该激活，特别是包含 "Grid" 组件的文件
   
   不好：前端文件应该激活
   ```

5. **列举常见错误**
   ```
   好：常见错误包括使用 Grid xs={12}（旧 API）而不是 Grid size={{ xs: 12 }}
   
   不好：有时候会用错
   ```

6. **说明项目结构**
   ```
   好：Monorepo 结构，前端在 packages/web/src/，后端在 packages/api/src/
   
   不好：项目有一些文件
   ```

### ❌ DON'T（避免的做法）

1. **不明确要求中文**
   ```
   不好：创建一个技能（没有说明语言要求）
   
   改进：明确要求：生成的 SKILL.md 必须全部使用中文编写
   ```

2. **信息过于简单**
   ```
   不好：创建一个技能
   
   改进：至少提供名称、目的、技术栈，并明确要求中文
   ```

3. **混淆技能类型**
   ```
   不好：既要强制又要建议
   
   改进：明确是 guardrail 还是 domain，或创建两个技能
   ```

4. **触发模式过于宽泛**
   ```
   不好：所有 TypeScript 文件都触发
   
   改进：指定特定目录或特定内容模式
   ```

5. **缺少测试场景**
   ```
   不好：创建技能但不说明何时应该触发
   
   改进：提供 3-5 个具体的测试场景
   ```

---

## 常见错误和解决方案

### 错误 0：技能内容不是中文 ⚠️

**问题：**
```
生成的 SKILL.md 文件使用英文，但要求是中文
```

**解决方案：**
在 prompt 中**明确要求**：
```
**⚠️ 重要：生成的 SKILL.md 必须全部使用中文编写，包括：
- 所有标题和章节名称（如：目的、何时使用、关键信息）
- 所有描述和说明
- 代码注释
- 错误消息和提示
- 技术术语（框架名、库名）可以保留英文
```

**为什么：**
- 必须在 prompt 中明确要求，否则 Claude 可能会默认使用英文
- 在 prompt 开头或显著位置强调，确保不会被忽略

### 错误 1：技能内容太多，超过 500 行

**问题：**
```
技能内容太详细，超过了 500 行规则
```

**解决方案：**
在 prompt 中明确说明：
```
请遵循 500 行规则，主文件 SKILL.md 保持在 500 行以内，
详细信息放在 resources/ 目录的参考文件中，使用渐进式披露模式。

**重要：所有内容必须使用中文编写。**
```

### 错误 2：触发规则不准确

**问题：**
```
技能经常误触发，或者在应该触发时不触发
```

**解决方案：**
提供更多测试场景：
```
触发场景示例：
1. 用户说 "创建 React 组件" → 应该触发 ✅
2. 用户说 "修复 bug" → 不应该触发 ❌
3. 编辑 src/components/Button.tsx → 应该触发 ✅
4. 编辑 src/utils/helpers.ts → 不应该触发 ❌

请确保触发规则准确匹配这些场景。
```

### 错误 3：技能类型选择错误

**问题：**
```
创建了 domain 技能，但实际需要强制阻止某些错误
```

**解决方案：**
明确说明：
```
这个技能需要强制阻止以下错误：
1. 使用旧 API（应该是 guardrail）
2. 缺少错误处理（应该是 guardrail）

其他是建议性内容（domain）。

请创建两个技能：一个 guardrail，一个 domain。
```

### 错误 4：缺少项目结构信息

**问题：**
```
创建的技能路径模式不匹配项目结构
```

**解决方案：**
提供完整的项目结构：
```
项目结构：
- Monorepo（使用 pnpm workspaces）
- 前端：packages/web/src/components/
- 后端：packages/api/src/routes/
- 共享：packages/shared/src/types/

请根据这个结构配置文件路径模式。
```

---

## 完整示例对话

### 示例：创建一个 Docker 部署技能

**你的 Prompt：**
```
我想使用 skill-developer 创建一个 Docker 部署技能。

技能信息：
- 名称：docker-deployment-guidelines
- 类型：domain
- 目的：为 Docker 容器化部署提供最佳实践和模式指导

技术栈和领域：
- 技术：Docker, Docker Compose, 多阶段构建, 健康检查
- 领域：DevOps/部署
- 项目结构：Monorepo，每个服务有自己的 Dockerfile，根目录有 docker-compose.yml

触发场景：
- 关键词：Docker, Dockerfile, docker-compose, container, 容器, 部署, deployment
- 文件模式：**/Dockerfile, **/docker-compose*.yml, **/.dockerignore
- 内容模式：FROM, COPY, RUN, docker-compose

常见问题：
- 不使用多阶段构建导致镜像过大
- 忘记设置健康检查
- 在 Dockerfile 中硬编码配置
- 不使用 .dockerignore 导致构建缓慢

期望行为：
- 当编辑 Dockerfile 时自动建议
- 提供多阶段构建示例
- 指导健康检查配置
- 提供安全最佳实践

请创建完整的技能，遵循 500 行规则，使用渐进式披露。
```

**skill-developer 会：**
1. 创建 `.claude/skills/docker-deployment-guidelines/SKILL.md`
2. 创建必要的资源文件（如果需要）
3. 在 `skill-rules.json` 中添加配置
4. 确保触发规则准确
5. 遵循所有最佳实践

---

## 总结

### 创建完善技能的关键要素

1. **⚠️ 明确要求中文** - 必须在 prompt 中明确要求生成的 SKILL.md 使用中文
2. **信息越详细越好** - skill-developer 需要足够的信息才能生成完善的技能
3. **明确技能类型** - 强制规范用 guardrail，指导建议用 domain
4. **提供测试场景** - 说明什么时候应该触发，什么时候不应该
5. **说明项目结构** - 帮助 skill-developer 创建准确的路径模式
6. **列举常见问题** - 帮助创建有针对性的内容

### 快速检查清单

在发送 prompt 前，确认：
- [ ] ⚠️ **明确要求生成的 SKILL.md 使用中文编写**
- [ ] 技能名称明确
- [ ] 技能类型已确定（guardrail/domain）
- [ ] 技术栈已列出
- [ ] 触发场景已说明（可以包含中文关键词）
- [ ] 项目结构已描述
- [ ] 常见问题已列举

---

**记住：** skill-developer 会根据你提供的信息生成技能。信息越详细、越准确，生成的技能就越完善！

**需要帮助？** 在对话中提到 "使用 skill-developer" 或 "创建技能"，skill-developer 会自动激活并引导你。

